services:
  - type: worker
    name: rauly-tg-scraper
    env: docker
    dockerContext: .
    dockerfilePath: Dockerfile
    plan: starter # Paid tier
    envVars:
      - key: API_ID
        sync: false
      - key: API_HASH
        sync: false
      - key: PHONE_NUMBER
        sync: false
      - key: GOOGLE_SHEET_ID
        sync: false
      - key: GOOGLE_SERVICE_ACCOUNT_FILE
        value: /etc/secrets/google_creds.json
    mounts:
      - type: disk
        name: rauly-data
        mountPath: /app/sessions
        sizeGB: 1
    secretFiles:
      - key: google_creds.json
        name: GOOGLE_SERVICE_ACCOUNT_CONTENT
